Spring interceptor
- HTTP Request -> WAS -> Filter -> Servlet -> Spring interceptor -> Controller


HandlerInterceptor use by DispatcherServlet 
- preHandle: before handle(handler)
  - if return true, continue handle
  - if return false, stop handle
- postHandle: after handle(handler)
  - if controller throw exception, postHandle will not be called
- afterCompletion
  - normal flow: after render(model) 
  - error flow: after error occurs, called with exception 


```java
public interface HandlerInterceptor {
	default boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler)
			throws Exception {}

	default void postHandle(HttpServletRequest request, HttpServletResponse response, Object handler,
			@Nullable ModelAndView modelAndView) throws Exception {}

	default void afterCompletion(HttpServletRequest request, HttpServletResponse response, Object handler,
			@Nullable Exception ex) throws Exception {}
}
```

*PathPattern document
[link](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/pattern/PathPattern.html)